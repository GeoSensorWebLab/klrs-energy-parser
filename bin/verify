#!/usr/bin/env ruby

$:.push('lib')

require 'csv'
require 'klrs_parser'

# Read file args in order
while !ARGV.empty? do
  ARGF.set_encoding('windows-1252:utf-8', {
    universal_newline: true
  })
  parsed = KLRSParser::CSVParser.new(ARGF.file)

  puts "File: #{ARGF.filename}"
  puts "Columns: #{parsed.columns.count}"
  puts "Readings: #{parsed.columns[0].data.count}"

  ARGF.close
end
